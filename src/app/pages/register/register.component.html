<app-base-background>
    <div class="flex flex-col gap-3 items-center w-full">
        <div class="flex flex-col items-center">
            <img class="w-16 h-16" src="assets/logo.png" alt="logo" />
            <h5>PitangVac</h5>
            <p class="text-gray-500">Cadastre-se</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="handleRegister()">
            <div class="flex gap-2">
                <mat-form-field class="w-full">
                    <mat-label>Nome</mat-label>
                    <input formControlName="name" placeholder="Digite seu login" matInput>
                    <mat-error *ngIf="registerForm.get('name')?.hasError('required')">O campo é obrigatório</mat-error>
                </mat-form-field>
                
                <mat-form-field class="w-full">
                    <mat-label>Login</mat-label>
                    <input formControlName="login" placeholder="Digite seu login" matInput>
                    <mat-error *ngIf="registerForm.get('login')?.hasError('required')">O campo é obrigatório</mat-error>
                    <mat-error *ngIf="registerForm.get('login')?.hasError('maxlength')">O campo de login tem no máximo 50
                        caracteres</mat-error>
                    <mat-error *ngIf="registerForm.get('login')?.hasError('exist')">Login já possui cadastro</mat-error>
                </mat-form-field>
            </div>
           
            <mat-form-field class="w-full">
                <mat-label>Email</mat-label>
                <input type="email" formControlName="email" placeholder="Digite seu login" matInput>
                <mat-error *ngIf="registerForm.get('email')?.hasError('required')">O campo é obrigatório</mat-error>
                <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Email inválido</mat-error>
                <mat-error *ngIf="registerForm.get('email')?.hasError('exist')">Email já possui cadastro</mat-error>
            </mat-form-field>

            <mat-form-field class="w-full">
                <mat-label>Senha</mat-label>
                <input [type]="hide() ? 'password' : 'text'" formControlName="password" placeholder="Digite seu login" matInput>
                <mat-error *ngIf="registerForm.get('password')?.hasError('required')">O campo é obrigatório</mat-error>
                <button mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Esconder senha'"
                    [attr.aria-pressed]="hide()">
                    <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Data de nascimento</mat-label>
                <input formControlName="birthDate" matInput [matDatepicker]="dp" />
                <mat-datepicker-toggle matIconSuffix [for]="dp"></mat-datepicker-toggle>
                <mat-datepicker #dp></mat-datepicker>
                <mat-error *ngIf="registerForm.get('birthDate')?.hasError('required')">Campo é obrigatório</mat-error>
            </mat-form-field>

            <button class="w-full mt-8" type="submit" mat-flat-button>Cadastrar</button>
        </form>

        <app-footer></app-footer>
    </div>
</app-base-background>